# Инструкция по автокомпиляции SASS

## Проблема
Web Compiler для Visual Studio не поддерживает модули Sass (`@use`, `@forward`), так как использует устаревший node-sass вместо Dart Sass.

## Решение
Используется Dart Sass через npm для компиляции с поддержкой модулей Sass.

## Как использовать

### Вариант 1: Автоматический watch-режим (рекомендуется)

1. **Запустите файл `start-sass-watch.bat`** в папке `BaseSiteSolution`
   - Дважды кликните на файл или запустите из командной строки
   - Скрипт будет следить за изменениями в SCSS файлах и автоматически компилировать при сохранении

2. **Оставьте окно командной строки открытым** во время работы над стилями

3. При сохранении любого SCSS файла автоматически произойдет компиляция:
   - `core.scss` → `core.css` (обычная версия)
   - `core.scss` → `core.min.css` (минифицированная версия для Smidge)

### Вариант 2: Ручная компиляция

Выполните в командной строке в папке `BaseSiteSolution`:

```bash
npm run sass:build     # Компилирует обе версии (core.css и core.min.css)
npm run sass:compile   # Только обычная версия (core.css)
npm run sass:minify    # Только минифицированная версия (core.min.css)
```

### Вариант 3: Интеграция в Visual Studio (опционально)

Вы можете добавить внешнюю задачу в Visual Studio:

1. **Tools → External Tools... → Add**
2. **Title:** `Sass Watch`
3. **Command:** `cmd.exe`
4. **Arguments:** `/c "cd /d $(ProjectDir) && npm run sass:watch"`
5. Поставьте галочку "Use Output window" (опционально)

## Структура

- `package.json` - конфигурация npm с зависимостями и скриптами
- `start-sass-watch.bat` - скрипт для запуска watch-режима в Windows
- `wwwroot/css/core.scss` - главный файл стилей
- `wwwroot/css/core.css` - скомпилированный CSS (автоматически генерируется)
- `wwwroot/css/core.min.css` - минифицированная версия CSS (автоматически генерируется)

## Зависимости

Все зависимости установлены локально в папку `node_modules` (не коммитятся в репозиторий).

Если нужно переустановить:
```bash
npm install
```

## Важно

- Web Compiler теперь можно отключить или оставить для других типов файлов (если используете)
- Модули Sass (`@use`, `@forward`) теперь работают корректно
- Пути модулей настроены через `--load-path=wwwroot/css`
- При watch-режиме автоматически генерируются обе версии: `core.css` и `core.min.css` (для Smidge)